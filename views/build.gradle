apply plugin: 'com.android.application'
apply plugin: 'com.neenbedankt.android-apt'

android {
    compileSdkVersion 23
    buildToolsVersion "23.0.2"
    defaultConfig {
        applicationId "dlgdev.weighttracker"
        minSdkVersion 15
        targetSdkVersion 23
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    productFlavors {
    }

    packagingOptions {
        exclude 'LICENSE.txt'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/services/javax.annotation.processing.Processor'
    }
}

dependencies {
    compile project(':domain')
    def deps = rootProject.ext.viewDependencies
    def testDeps = rootProject.ext.viewTestDependencies
    apt deps.daggerCompiler
    provided deps.javaxAnnotation
    compile deps.dagger
    compile deps.design
    compile deps.support
    compile deps.appCompat
    compile deps.recyclerView
    compile deps.butterKnife
    compile deps.annotations

    androidTestCompile testDeps.annotations
    androidTestCompile testDeps.mockito
    androidTestCompile testDeps.dexmakerMockito
    androidTestCompile testDeps.dexmaker
    androidTestCompile testDeps.dexmakerDx
    androidTestCompile testDeps.espressoRunner
    androidTestCompile testDeps.espressoRules
    androidTestCompile testDeps.espressoCore
    androidTestCompile testDeps.espressoIntents
    androidTestCompile(testDeps.espressoContrib) {
        exclude group: "com.android.support", module: "appcompat"
        exclude group: "com.android.support", module: "support-v4"
        exclude module: "recyclerview-v7"
    }
    compile 'com.android.support:support-v4:23.1.1'
}
